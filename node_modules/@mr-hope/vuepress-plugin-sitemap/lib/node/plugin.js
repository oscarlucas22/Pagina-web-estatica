"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sitemapPlugin = void 0;
const chalk_1 = require("chalk");
const compact_1 = require("./compact");
const generateSitemap_1 = require("./generateSitemap");
const sitemapPlugin = (options, context) => {
    (0, compact_1.covertOptions)(options);
    const plugin = {
        name: "@mr-hope/vuepress-plugin-sitemap",
    };
    if (!options.hostname) {
        console.log((0, chalk_1.blue)("Sitemap"), chalk_1.black.bgRed("Error"), 'Not generating sitemap because required "hostname" option doesnâ€™t exist');
        return plugin;
    }
    return {
        ...plugin,
        generated: async () => (0, generateSitemap_1.generateSiteMap)(options, context),
        plugins: [["@mr-hope/git", true]],
    };
};
exports.sitemapPlugin = sitemapPlugin;
//# sourceMappingURL=plugin.js.map