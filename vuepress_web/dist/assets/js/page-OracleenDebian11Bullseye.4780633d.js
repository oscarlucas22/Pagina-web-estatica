(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{480:function(e,a,s){e.exports=s.p+"assets/img/1-oracle.02c1fa95.png"},495:function(e,a,s){"use strict";s.r(a);var o=s(1),r=Object(o.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"oracle-en-debian-11-bullseye"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oracle-en-debian-11-bullseye"}},[e._v("#")]),e._v(" Oracle en Debian 11 Bullseye")]),e._v(" "),a("h2",{attrs:{id:"instalacion-de-oracle-en-debian-11-bullseye"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#instalacion-de-oracle-en-debian-11-bullseye"}},[e._v("#")]),e._v(" Instalación de Oracle en Debian 11 Bullseye")]),e._v(" "),a("p",[a("font",{attrs:{color:"#800080"}},[a("strong",[e._v("Paso 1")])])],1),e._v(" "),a("p",[e._v("Antes de instalar el paquete, tenemos que configurar algunas cosas. Empezaremos creando el script:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("sudo nano /sbin/chkconfig\n")])])]),a("p",[e._v("Y copiamos estas líneas en el archivo:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("#!/bin/bash\n# Oracle XE installer chkconfig hack for Ubuntu\nfile=/etc/init.d/oracle-xe\nif [[ ! `tail -n1 $file | grep INIT` ]]; then\necho >> $file\necho '### BEGIN INIT INFO' >> $file\necho '# Provides: OracleXE' >> $file\necho '# Required-Start: $remote_fs $syslog' >> $file\necho '# Required-Stop: $remote_fs $syslog' >> $file\necho '# Default-Start: 2 3 4 5' >> $file\necho '# Default-Stop: 0 1 6' >> $file\necho '# Short-Description: Oracle 19c Express Edition' >> $file\necho '### END INIT INFO' >> $file\nfi\nupdate-rc.d oracle-xe defaults 80 01\n")])])]),a("p",[a("font",{attrs:{color:"#800080"}},[a("strong",[e._v("Paso 2")])])],1),e._v(" "),a("p",[e._v("Damos los permisos necesarios al archivo:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("sudo chmod 755 /sbin/chkconfig\n")])])]),a("p",[a("font",{attrs:{color:"#800080"}},[a("strong",[e._v("Paso 3")])])],1),e._v(" "),a("p",[e._v("Oracle 19c XE requiere de una configuración especial en kernel para funcionar. Por eso necesitamos añadir algunos parámetros al mismo.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("sudo nano /etc/sysctl.d/60-oracle.conf\n")])])]),a("p",[e._v("Copiamos lo siguiente y guardamos.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("fs.file-max=6815744\nnet.ipv4.ip_local_port_range=9000 65000\nkernel.sem=250 32000 100 128\nkernel.shmmax=536870912\n")])])]),a("p",[a("font",{attrs:{color:"#800080"}},[a("strong",[e._v("Paso 4")])])],1),e._v(" "),a("p",[e._v("Para cargar los parámetros del kernel sin reiniciar:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("sudo service procps start\n")])])]),a("p",[a("font",{attrs:{color:"#800080"}},[a("strong",[e._v("Paso 5")])]),e._v(" "),a("strong",[e._v("Comienzo de la instalación")])],1),e._v(" "),a("p",[e._v("Y ahora sí, instalamos el paquete "),a("a",{attrs:{href:"https://www.dropbox.com/s/p1vhrnjw73fdc70/oracle-database-ee-19c_1.0-2_amd64.deb?dl=0",target:"_blank",rel:"noopener noreferrer"}},[e._v(".deb"),a("OutboundLink")],1),e._v(":")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("sudo dpkg -i oracle-database-xe-18c_1.0-2_amd64.deb\n")])])]),a("p",[e._v("Después de unos 10 minutos el proceso terminará. Ejecutamos el siguiente comando para configurar la contraseña de administrador de la base de datos y demás cosas:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("sudo /etc/init.d/oracledb_ORCLCDB-19c configure\n")])])]),a("p",[e._v("Veremos que da error. Eso se debe a que en al script de configuración le hace falta un parámetro. Para añadirlo entramos en el script con:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("sudo nano /etc/init.d/oracledb_ORCLCDB-19c configure\n")])])]),a("p",[e._v('Y buscamos(Ctrl + W) en la linea donde pone "Configuring"')]),e._v(" "),a("p",[a("img",{attrs:{src:s(480),alt:"image"}})]),e._v(" "),a("p",[e._v("Borramos la linea que se ve marcada en la imagen y copiamos en su lugar la siguiente:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('$SU -s /bin/bash  $ORACLE_OWNER -c "$DBCA -silent -createDatabase -gdbName $ORACLE_SID -templateName $TEMPLATE_NAME -characterSet $CHARSET -createAsContainerDatabase $CREATE_AS_CDB -numberOfPDBs $NUMBER_OF_PDBS -pdbName $PDB_NAME -createListener $LISTENER_NAME:$LISTENER_PORT -datafileDestination $ORACLE_DATA_LOCATION -sid $ORACLE_SID -autoGeneratePasswords -emConfiguration DBEXPRESS -emExpressPort $EM_EXPRESS_PORT -J-Doracle.assistants.dbca.validate.ConfigurationParams=false"\n')])])]),a("p",[e._v("Ahora lo intentamos de nuevo:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("sudo /etc/init.d/oracledb_ORCLCDB-19c configure\n")])])]),a("p",[a("code",[e._v("**Nota**: Si nos salta un error de netstat tendremos que instalarlo *sudo apt install net-tools*")])]),e._v(" "),a("p",[a("code",[e._v("**Nota**: Si nos sigue saliendo un error instalaremos lo siguiente *sudo apt install libaio1 unixodbc*")])]),e._v(" "),a("p",[e._v("Y despues de esto ejecutaremos de nuevo el comando y ya debería de ir sino reinicia la maquina ("),a("em",[e._v("sudo reboot")]),e._v(") y vuélvelo a probar")]),e._v(" "),a("p",[a("font",{attrs:{color:"#800080"}},[a("strong",[e._v("Paso 6")])])],1),e._v(" "),a("p",[e._v("Añadimos las variables de entorno a bash:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("nano ~/.bashrc\n")])])]),a("p",[e._v("Copiamos las siguientes líneas al final del fichero:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("export ORACLE_HOME=/opt/oracle/product/19c/dbhome_1\nexport ORACLE_SID=ORCLCDB\nexport ORACLE_BASE=/opt/oracle/oradata\nexport LD_LIBRARY_PATH=$ORACLE_HOME/lib:$LD_LIBRARY_PATH\nexport PATH=$ORACLE_HOME/bin:$PATH\n")])])]),a("p",[a("font",{attrs:{color:"#800080"}},[a("strong",[e._v("Paso 7")])])],1),e._v(" "),a("p",[e._v("Para finalizar reiniciamos el servicio de Oracle 19c:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("sudo service oracledb_ORCLCDB-19c restart\n")])])]),a("h2",{attrs:{id:"crear-un-usuario"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crear-un-usuario"}},[e._v("#")]),e._v(" Crear un usuario")]),e._v(" "),a("p",[a("font",{attrs:{color:"#800080"}},[a("strong",[e._v("Paso 1")])])],1)])}),[],!1,null,null,null);a.default=r.exports}}]);